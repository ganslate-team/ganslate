project_dir: "./projects/nki_cervix_cbct_to_ct"
use_cuda: True
n_iters: 20
n_iters_decay: 0
batch_size: 1

logging:
    checkpoint_dir: ./checkpoints/cbct_ex3/
    wandb:
        project: "NKI_CBCT_CT"
        image_filter: 
            min: 0.289 # Corresponds to HU window of W:350, L: 40 between [0, 1]
            max: 0.40
    log_freq: 1
    checkpoint_freq: 10000

dataset: 
    name: "CBCTtoCTDataset"
    root: /repos/Maastro/nki_cervix
    hounsfield_units_range: [-1024, 2048]
    num_workers: 0
    patch_size: [32, 32, 32]
    enable_masking: True
    enable_bounding: True
    
gan:  
  name: "PiCycleGAN"

  generator:
    name: Vnet3D
    in_channels: 1
    use_memory_saving: False
    use_inverse: True
    is_separable: False
    down_blocks: [2, 2, 3]
    up_blocks: [3, 3, 3]

  discriminator:
      name: "PatchGAN3D"
      n_layers: 2
      in_channels: 1
      kernel_size: [2, 4, 4]

  optimizer:
    lambda_A: 25.0
    lambda_B: 25.0
    lambda_identity: 0.0
    lambda_inverse: 0.0
    proportion_ssim: 0.84
    lr_D: 0.0001
    lr_G: 0.0002

    loss_mask:
      masking_value: -1
      operator: "eq" 


metrics: 
  output_distributions_D: True
  ssim: True
  
evaluation:
  freq: 2
  samples: 5
  dataset: 
      name: CBCTtoCTEvalDataset
      root: /repos/Maastro/nki_cervix

